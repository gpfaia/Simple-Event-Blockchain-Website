(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{13:function(e,t,n){},17:function(e,t,n){e.exports=n(28)},22:function(e,t,n){},28:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),l=n(15),c=n.n(l),i=(n(22),n(5)),o=n(6),u=n(8),s=n(7),m=n(9),h=n(31),g=n(32),E=n(29),p=n(11),d=n(4),b=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(u.a)(this,Object(s.a)(t).call(this))).onChange=function(t){e.setState(Object(p.a)({},t.target.name,t.target.value))},e.state={sendEmail:"",receiveEmail:"",Seat:"",EventId:0,loading:!1},e.getSubmit=e.getSubmit.bind(Object(d.a)(Object(d.a)(e))),e}return Object(m.a)(t,e),Object(o.a)(t,[{key:"createTicket",value:function(){var e=this.state,t=e.sendEmail,n=e.receiveEmail,a=e.Seat,r=e.EventId;return fetch("/bc/api/createTicket",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({sendEmail:t,receiveEmail:n,Seat:a,EventId:r})})}},{key:"getSubmit",value:function(e){this.setState({loading:!0}),this.render(),e.preventDefault(),this.createTicket().then(this.setState({loading:!1}))}},{key:"render",value:function(){var e=this.state,t=e.sendEmail,n=e.receiveEmail,a=e.Seat,l=e.EventId,c=e.loading;return r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("h3",null,"Create Transaction"),r.a.createElement("form",{onSubmit:this.getSubmit},r.a.createElement("label",null,"Sender Email"),r.a.createElement("input",{id:"sender",name:"sendEmail",value:t,onChange:this.onChange,type:"email"}),r.a.createElement("label",null,"Receiver Email"),r.a.createElement("input",{id:"receiver",name:"receiveEmail",value:n,onChange:this.onChange,type:"email"}),r.a.createElement("label",null,"Seat"),r.a.createElement("input",{id:"seat",name:"Seat",value:a,onChange:this.onChange,type:"text"}),r.a.createElement("label",null,"EventId "),r.a.createElement("input",{id:"eventId",name:"EventId",value:l,onChange:this.onChange,type:"number",min:"0",step:"1"}),r.a.createElement("button",null,"Generate New Pending Transaction"),c?r.a.createElement("img",{src:"/images/loading.gif",alt:""}):r.a.createElement("div",null))))}}]),t}(a.Component),v=(n(13),function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(u.a)(this,Object(s.a)(t).call(this,e))).getBlockChain=function(){fetch("/bc/api/getBlockChain").then(function(e){return e.json()}).then(function(e){return n.setState(e)})},n.getLastBlock=function(){fetch("/bc/api/getlastblock").then(function(e){return e.json()}).then(function(e){return n.setState(e)})},n.state={blockChain:[],lastBlock:""},n}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.getBlockChain(),this.interval=setInterval(function(){return e.getBlockChain()},3e3)}},{key:"componentWillUnmount",value:function(){clearInterval(this.interval)}},{key:"render",value:function(){return r.a.createElement("div",{className:"BlockChainView"},r.a.createElement("h1",null,"Block Chain"),this.state.blockChain.map(function(e){return r.a.createElement("table",{key:e.index,border:"1"},r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Index"),r.a.createElement("td",null,e.index)),r.a.createElement("tr",null,r.a.createElement("th",null,"Time Stamp"),r.a.createElement("td",null,e.timeStamp)),r.a.createElement("tr",null,r.a.createElement("th",null,"Previous Hash"),r.a.createElement("td",null,e.previousHash)),r.a.createElement("tr",null,r.a.createElement("th",null,"Tix Data"),r.a.createElement("td",null,e.data)),r.a.createElement("tr",null,r.a.createElement("th",null,"Nonce"),r.a.createElement("td",null,e.nonce)),r.a.createElement("tr",null,r.a.createElement("th",null,"Hash"),r.a.createElement("td",null,e.hash))))}))}}]),t}(a.Component)),f=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(u.a)(this,Object(s.a)(t).call(this))).onChange=function(t){e.setState(Object(p.a)({},t.target.name,t.target.value))},e.getTarget=function(){fetch("/bc/api/getTarget").then(function(e){return e.json()}).then(function(t){return e.setState(t)})},e.getSubmit=e.getSubmit.bind(Object(d.a)(Object(d.a)(e))),e.state={targetNum:"",newTargetNum:""},e}return Object(m.a)(t,e),Object(o.a)(t,[{key:"getSubmit",value:function(e){e.preventDefault();var t=this.state.newTargetNum;fetch("/bc/api/setTarget",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({newTargetNum:t})}).then(this.getTarget())}},{key:"componentDidMount",value:function(){this.getTarget()}},{key:"render",value:function(){var e=this.state,t=e.targetNum,n=e.newTargetNum;return r.a.createElement("div",null,r.a.createElement("h5",null,"Current Target: ",t),r.a.createElement("p",null,"The target is the amount of zeros a hash needs to start with to be valid "),r.a.createElement("h6",null,"Set Target"),r.a.createElement("form",{onSubmit:this.getSubmit},r.a.createElement("input",{id:"newTargetNum",name:"newTargetNum",type:"number",min:"0",max:"10",step:"1",value:n,onChange:this.onChange}),r.a.createElement("button",null,"Submit")))}}]),t}(a.Component),y=function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(u.a)(this,Object(s.a)(t).call(this,e))).onChange=function(e){var t;e.target.checked?n.state.changeArray.push(parseInt(e.target.value)):(t=n.state.changeArray.indexOf(parseInt(e.target.value)),n.state.changeArray.splice(t,1)),n.setState({changeArray:n.state.changeArray})},n.getTransactionArray=function(){fetch("/bc/api/getTransactionArray").then(function(e){return e.json()}).then(function(e){return n.setState(e)})},n.state={transactionArray:[],changeArray:[],targetCheck:!1},n.getSubmit=n.getSubmit.bind(Object(d.a)(Object(d.a)(n))),n}return Object(m.a)(t,e),Object(o.a)(t,[{key:"generateNextBlock",value:function(e){return fetch("/bc/api/generateNextBlock",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)})}},{key:"updateTransactionArr",value:function(e){return fetch("/bc/api/updateTransactionArray",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)})}},{key:"getSubmit",value:function(e){var t=this;e.preventDefault();var n=this.state.changeArray.map(function(e){return t.state.transactionArray[e]});this.generateNextBlock(n).then(function(e){200!==e.status?t.setState({targetCheck:!0}):t.updateTransactionArr(t.state.changeArray).then(t.setState({changeArray:[],targetCheck:!1}))})}},{key:"componentDidMount",value:function(){var e=this;this.getTransactionArray(),this.interval=setInterval(function(){return e.getTransactionArray()},1e3)}},{key:"componentWillUnmount",value:function(){clearInterval(this.interval)}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"PA"},r.a.createElement("h1",null,"Pending Transactions"),r.a.createElement("form",{onSubmit:this.getSubmit},this.state.transactionArray.map(function(t,n){return r.a.createElement("div",null,r.a.createElement("label",null,t),r.a.createElement("input",{type:"checkbox",name:n,value:n,onChange:e.onChange}))}),this.state.transactionArray.length>0?r.a.createElement("button",null,"Mine!"):null),this.state.targetCheck&&r.a.createElement("div",null,r.a.createElement("p",null,"UNABLE TO MINE!"),r.a.createElement("p",null,"Retry with less transactions or a smaller target")))}}]),t}(a.Component),k=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement(h.a,null,r.a.createElement("div",null,r.a.createElement("ul",{className:"header"},r.a.createElement("li",null,r.a.createElement(g.a,{to:"/ticketInfo"},"Ticket Exchange")),r.a.createElement("li",null,r.a.createElement(g.a,{to:"/PendingTransactions"},"View Pending Target")),r.a.createElement("li",null,r.a.createElement(g.a,{to:"/blockChainView"},"Block Chain")),r.a.createElement("li",null,r.a.createElement(g.a,{to:"/setTarget"},"Change Target"))),r.a.createElement("div",{className:"content"},r.a.createElement(E.a,{exact:!0,path:"/",component:b}),r.a.createElement(E.a,{path:"/ticketInfo",component:b}),r.a.createElement(E.a,{path:"/PendingTransactions",component:y}),r.a.createElement(E.a,{path:"/blockChainView",component:v}),r.a.createElement(E.a,{path:"/setTarget",component:f}))))}}]),t}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(k,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[17,2,1]]]);
//# sourceMappingURL=main.b59f2320.chunk.js.map